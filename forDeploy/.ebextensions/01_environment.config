option_settings:
  # Environment Variables
  aws:elasticbeanstalk:application:environment:
    SPRING_PROFILES_ACTIVE: prod
    RDS_HOSTNAME: 
    RDS_DB_NAME: tablecraft
    RDS_USERNAME: admin
    RDS_PASSWORD: 
    RDS_PORT: 3306
    JAVA_OPTS: "-Xmx512m -Xms256m"
  
  # Java Platform Settings
  aws:elasticbeanstalk:container:java:
    JVMOptions: "-Dspring.profiles.active=prod -Dfile.encoding=UTF-8"
    Xmx: 512m
    Xms: 256m
  
  # Auto Scaling Configuration
  aws:autoscaling:launchconfiguration:
    InstanceType: t3.micro
    IamInstanceProfile: aws-elasticbeanstalk-ec2-role
  
  aws:autoscaling:asg:
    MinSize: 1
    MaxSize: 2
    
  # Health Monitoring
  aws:elasticbeanstalk:healthreporting:system:
    SystemType: enhanced
    EnhancedHealthAuthEnabled: true
    
  # Application Health Check
  aws:elasticbeanstalk:application:
    Application Healthcheck URL: /api/health
    
  # Load Balancer Settings
  aws:elasticbeanstalk:environment:
    EnvironmentType: LoadBalanced
    LoadBalancerType: application
    
  # Rolling Deployments
  aws:elasticbeanstalk:command:
    DeploymentPolicy: RollingWithAdditionalBatch
    BatchSizeType: Fixed
    BatchSize: 1