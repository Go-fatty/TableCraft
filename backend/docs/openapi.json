{"openapi":"3.0.1","info":{"title":"TableCraft API","description":"TableCraft - ローコードツール API仕様書\n\nこのAPIは、INFORMATION_SCHEMAベースのテーブル管理システムを提供します。\n管理画面からテーブルのCRUD操作、UI設定、自動設定ファイル生成が可能です。","contact":{"name":"TableCraft Support","email":"support@tablecraft.example.com"},"license":{"name":"MIT License","url":"https://opensource.org/licenses/MIT"},"version":"1.0.0"},"servers":[{"url":"http://localhost:8080","description":"開発環境"},{"url":"http://localhost:8080","description":"本番環境（必要に応じて変更）"}],"tags":[{"name":"API Document Management","description":"APIドキュメント生成・管理API"}],"paths":{"/api/config/data/{tableName}/{id}":{"get":{"tags":["config-based-controller"],"operationId":"getDataById","parameters":[{"name":"tableName","in":"path","required":true,"schema":{"type":"string"}},{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object","additionalProperties":{"type":"object"}}}}}}},"put":{"tags":["config-based-controller"],"operationId":"updateData","parameters":[{"name":"tableName","in":"path","required":true,"schema":{"type":"string"}},{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","additionalProperties":{"type":"object"}}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object","additionalProperties":{"type":"object"}}}}}}},"delete":{"tags":["config-based-controller"],"operationId":"deleteData","parameters":[{"name":"tableName","in":"path","required":true,"schema":{"type":"string"}},{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object","additionalProperties":{"type":"object"}}}}}}}},"/api/admin/tables/update/{tableId}":{"put":{"tags":["table-definition-controller"],"operationId":"updateTablePut","parameters":[{"name":"tableId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TableUISettingsUpdateRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object","additionalProperties":{"type":"object"}}}}}}},"post":{"tags":["table-definition-controller"],"operationId":"updateTable","parameters":[{"name":"tableId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TableUISettingsUpdateRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object","additionalProperties":{"type":"object"}}}}}}}},"/api/config/validation-config":{"post":{"tags":["config-based-controller"],"operationId":"getValidationConfig","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"string"}}}}}}},"/api/config/update":{"post":{"tags":["config-based-controller"],"operationId":"updateRecord","requestBody":{"content":{"application/json":{"schema":{"type":"object","additionalProperties":{"type":"object"}}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object","additionalProperties":{"type":"object"}}}}}}}},"/api/config/ui-config":{"post":{"tags":["config-based-controller"],"operationId":"getUiConfig","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"string"}}}}}}},"/api/config/table-definition":{"post":{"tags":["config-based-controller"],"operationId":"getTableDefinition","requestBody":{"content":{"application/json":{"schema":{"type":"object","additionalProperties":{"type":"object"}}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object","additionalProperties":{"type":"object"}}}}}}}},"/api/config/table-config":{"post":{"tags":["config-based-controller"],"operationId":"getTableConfig","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"string"}}}}}}},"/api/config/status":{"post":{"tags":["config-based-controller"],"operationId":"getStatus","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object","additionalProperties":{"type":"object"}}}}}}}},"/api/config/reload":{"post":{"tags":["config-based-controller"],"operationId":"reloadConfig","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object","additionalProperties":{"type":"object"}}}}}}}},"/api/config/messages":{"post":{"tags":["config-based-controller"],"operationId":"getMessages","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object","additionalProperties":{"type":"string"}}}}}}}},"/api/config/find":{"post":{"tags":["config-based-controller"],"operationId":"findRecord","requestBody":{"content":{"application/json":{"schema":{"type":"object","additionalProperties":{"type":"object"}}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object","additionalProperties":{"type":"object"}}}}}}}},"/api/config/findAll":{"post":{"tags":["config-based-controller"],"operationId":"findAllRecords","requestBody":{"content":{"application/json":{"schema":{"type":"object","additionalProperties":{"type":"object"}}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object","additionalProperties":{"type":"object"}}}}}}}},"/api/config/delete":{"post":{"tags":["config-based-controller"],"operationId":"deleteRecord","requestBody":{"content":{"application/json":{"schema":{"type":"object","additionalProperties":{"type":"object"}}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object","additionalProperties":{"type":"object"}}}}}}}},"/api/config/data/{tableName}":{"get":{"tags":["config-based-controller"],"operationId":"getData","parameters":[{"name":"tableName","in":"path","required":true,"schema":{"type":"string"}},{"name":"page","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":0}},{"name":"size","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":100}},{"name":"orderBy","in":"query","required":false,"schema":{"type":"string","default":""}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object","additionalProperties":{"type":"object"}}}}}}},"post":{"tags":["config-based-controller"],"operationId":"createData","parameters":[{"name":"tableName","in":"path","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","additionalProperties":{"type":"object"}}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object","additionalProperties":{"type":"object"}}}}}}}},"/api/config/create":{"post":{"tags":["config-based-controller"],"operationId":"createRecord","requestBody":{"content":{"application/json":{"schema":{"type":"object","additionalProperties":{"type":"object"}}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object","additionalProperties":{"type":"object"}}}}}}}},"/api/admin/tables/list":{"post":{"tags":["table-definition-controller"],"operationId":"listTables","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object","additionalProperties":{"type":"object"}}}}}}}},"/api/admin/tables/get":{"post":{"tags":["table-definition-controller"],"operationId":"getTable","requestBody":{"content":{"application/json":{"schema":{"type":"object","additionalProperties":{"type":"object"}}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object","additionalProperties":{"type":"object"}}}}}}}},"/api/admin/tables/delete/{tableId}":{"post":{"tags":["table-definition-controller"],"operationId":"deleteTable","parameters":[{"name":"tableId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object","additionalProperties":{"type":"object"}}}}}}}},"/api/admin/tables/create":{"post":{"tags":["table-definition-controller"],"operationId":"createTable","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TableCreationRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object","additionalProperties":{"type":"object"}}}}}}}},"/api/admin/docs/generate":{"post":{"tags":["API Document Management"],"summary":"OpenAPI仕様生成","description":"現在のAPI仕様をOpenAPI JSON形式で生成し、backend/docs/openapi.jsonに保存します。","operationId":"generateOpenApiDoc","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object","additionalProperties":{"type":"object"}}}}}}}},"/api/admin/config/regenerate":{"post":{"tags":["config-management-controller"],"operationId":"regenerateTableConfig","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object","additionalProperties":{"type":"object"}}}}}}}},"/api/info":{"get":{"tags":["health-controller"],"operationId":"info","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object","additionalProperties":{"type":"object"}}}}}}}},"/api/health":{"get":{"tags":["health-controller"],"operationId":"health","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object","additionalProperties":{"type":"object"}}}}}}}},"/api/config/validation":{"get":{"tags":["config-based-controller"],"operationId":"getValidationConfig_1","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"string"}}}}}}},"/api/config/ui":{"get":{"tags":["config-based-controller"],"operationId":"getUiConfig_1","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"string"}}}}}}},"/api/config/tables":{"get":{"tags":["config-based-controller"],"operationId":"getTables","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object","additionalProperties":{"type":"object"}}}}}}}},"/api/config/schema/{tableName}":{"get":{"tags":["config-based-controller"],"operationId":"getTableSchema","parameters":[{"name":"tableName","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object","additionalProperties":{"type":"object"}}}}}}}}},"components":{"schemas":{"TableUISettingsUpdateRequest":{"type":"object","properties":{"displayName":{"type":"string"},"description":{"type":"string"},"enableSearch":{"type":"boolean"},"enableSort":{"type":"boolean"},"enablePagination":{"type":"boolean"},"pageSize":{"type":"integer","format":"int32"},"allowCreate":{"type":"boolean"},"allowEdit":{"type":"boolean"},"allowDelete":{"type":"boolean"},"allowBulk":{"type":"boolean"}}},"ColumnDefinition":{"type":"object","properties":{"columnName":{"type":"string"},"dataType":{"type":"string"},"nullable":{"type":"boolean"},"primaryKey":{"type":"boolean"},"autoIncrement":{"type":"boolean"},"defaultValue":{"type":"string"},"comment":{"type":"string"}}},"TableCreationRequest":{"type":"object","properties":{"tableName":{"type":"string"},"displayName":{"type":"string"},"description":{"type":"string"},"columns":{"type":"array","items":{"$ref":"#/components/schemas/ColumnDefinition"}},"enableSearch":{"type":"boolean"},"enableSort":{"type":"boolean"},"enablePagination":{"type":"boolean"},"pageSize":{"type":"integer","format":"int32"},"allowCreate":{"type":"boolean"},"allowEdit":{"type":"boolean"},"allowDelete":{"type":"boolean"},"allowBulk":{"type":"boolean"}}}}}}